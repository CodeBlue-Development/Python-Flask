


<!DOCTYPE html>
<html>
<head>
    <title>Edit Row - {{ table_name }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        function setValue(column, state) {
            document.getElementById(column).value = state;
        }

        function showSaveAlert() {
            alert("âœ… Changes saved successfully!");
        }
    </script>
</head>
<body class="p-4">
    <h2 style="text-align: center;">Edit the Record </h2>

    <form method="post" onsubmit="showSaveAlert()">
        {% for key, value in row.items() %}
            {% if key != 'id' and key != 'secret' %}
                <div class="mb-3">
                    <label class="form-label">{{ key }}</label>

                    {% if 'pass' in key|lower %}
                        <input name="{{ key }}" type="password" class="form-control" value="{{ value }}">

                    {% elif key in ['is_admin', 'is_super_admin', 'is_activate'] %}
                        <div class="d-flex gap-2">
                            <input id="{{ key }}" name="{{ key }}" value="{{ value }}" class="form-control" readonly>

                            <!-- Activate Button -->
                            <button type="button" class="btn btn-success" onclick="setValue('{{ key }}', 1)">Activate</button>

                            <!-- Deactivate Button -->
                            <button type="button" class="btn btn-danger" onclick="setValue('{{ key }}', 0)">Deactivate</button>
                        </div>

                    {% else %}
                        <input name="{{ key }}" class="form-control" value="{{ value }}">
                    {% endif %}
                </div>
            {% endif %}
        {% endfor %}

        <button type="submit" class="btn btn-primary">Save Changes</button>
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Cancel</a>
    </form>
</body>
</html>
